<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/d4c883c854.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="sCadastroUsuario.css">
    <link rel="stylesheet" href="sKaldiHeader.css">
    <title>Kaldi Solutions-Cadastrar usuário</title>
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="assets/090C8883-CC7D-43F0-99B3-2E54480A89B8-removebg-preview.png">
            </div>

            <ul class="list">

                <li><a href="kaldi-institucional.html">Início</a></li>
                <li><a href="#quemSomos">Quem somos</a></li>
                <li><a href="kaldi-simulador.html">Simulador</a></li>
                <li><a href="#faleconosco">Fale Conosco</a></li>
                <li><a href="kaldi-Login.html">Entrar</a></li>
                <li>|</li>
                <li><a href="kaldi-cadastro.html">Cadastre-se</a></li>

            </ul>
        </div>
    </header>

    <div class="banner">
        <div class="container">
            <div class="caixa_formulario">
                <h1>Seja Bem-vindo!</h1>
                <div class="formulario">                   

                    <span>Nome Usuário:</span>
                    <input id="nomeUsuario_input" type="text" placeholder="Seu nome de usuário" >
                                    
                    <span>E-mail:</span>
                    <input id="email_input" type="email" placeholder="meu.email@provedor.com" >

                    <span>Telefone Celular:</span>
                    <input id="telCel_input" type="text" placeholder="Seu telefone celular">

                    <span>Telefone Fixo:</span>
                    <input id="telFixoUsuario_input" type="text" placeholder="Seu telefone fixo">
                  
                </div>

                <div class="formulario2" >

                    <span>CPF:</span>
                    <input id="cpf_input" type="text" placeholder="Seu CPF" >                   

                    <span>Senha:</span>
                    <input id="senha_input" type="password" placeholder="*****" >
    
                    <span>Confirmar senha:</span>
                    <input id="confirmarSenha_input" type="password" placeholder="*****" >

                    <button onclick="CadastroUsuario()">Cadastrar</button>
                                        
                </div>

                <div class="formulario3">                                   


                </div>
            </div>
        </div>  
    </div>

    <div class="footer" id="faleconosco">
        <div class="container">
            <h1>Fale Conosco</h1>
            <hr width="100%" color="#e6b56d">
            <div class="box">
                <div class="termos">
                    <p>Termos de uso</p>
                    <p>Documentos</p>
                </div>
                <div class="redes">
                    <p>Siga-nos nas principais redes sociais</p>
                    <div class="redesIcons">
                        <i class="fa-brands fa-facebook"></i>
                        <i class="fa-brands fa-linkedin"></i>
                        <i class="fa-brands fa-twitter"></i>
                        <i class="fa-brands fa-instagram"></i>
                    </div>
                </div>
                <div class="contato">
                    <p>Contatos</p>
                    <p><i class="fa-brands fa-whatsapp"></i> (11) 98541-3608</p>
                    <p><i class="fa-solid fa-phone"></i> 0800 1548 255 </p>
                    <p><i class="fa-solid fa-envelope"></i> kaldi.solutions@contato.com</p>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    // API VIACEP 

    function limpa_formulário_cep() {
            document.getElementById('cidade_input').value=("");
            document.getElementById('estado_input').value=("");
            
    }

    function meu_callback(conteudo) {
        if (!("erro" in conteudo)) {
            document.getElementById('cidade_input').value=(conteudo.localidade);
            document.getElementById('estado_input').value=(conteudo.uf);

            cidade_input.disabled = "true"
            estado_input.disabled = "true"
        } //end if.
        else {
            //CEP não Encontrado.
            limpa_formulário_cep();
            alert("CEP não encontrado");
        }
    }

    function pesquisacep(valor) {

//Nova variável "cep" somente com dígitos.
var cep = valor.replace(/\D/g, '');

//Verifica se campo cep possui valor informado.
if (cep != "") {

    //Expressão regular para validar o CEP.
    var validacep = /^[0-9]{8}$/;

    //Valida o formato do CEP.
    if(validacep.test(cep)) {

        //Preenche os campos com "..." enquanto consulta webservice.
        document.getElementById('cidade_input').value="...";
        document.getElementById('estado_input').value="...";
        // document.getElementById('ibge').value="...";

        //Cria um elemento javascript.
        var script = document.createElement('script');

        //Sincroniza com o callback.
        script.src = 'https://viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';

        //Insere script no documento e carrega o conteúdo.
        document.body.appendChild(script);


    } //end if.
    else {
        //cep é inválido.
        limpa_formulário_cep();
        alert("Formato de CEP inválido");
    }
} //end if.
else {
    //cep sem valor, limpa formulário.
    limpa_formulário_cep();
}
};

    function CadastroUsuario(){
        if (cpf_input.value == '' || nomeUsuario_input.value == '' || email_input.value == '' || telCel_input.value == '' ||
        telFixoUsuario_input.value == '' || senha_input.value == '' || confirmarSenha_input.value == ''){
            alert("Verifique se todos os campos estão completos.")
        } 
        else if (senha_input.value != confirmarSenha_input.value){
            alert("Senhas não coincidem.");
            senha_input.style="border: solid 3px red;"
        } 
        else if (cpf_input.value.length != 11 || isNaN(cpf_input.value)){
            alert("CPF inválido.");
            cnpj_input.style="border: solid 3px red;"
        }
        else if (telFixoUsuario_input.value.length != 10 || isNaN(telFixoUsuario_input.value)){
            alert("Telefone fixo inválido! Verifique também o DDD.");
            telFixo_input.style="border: solid 3px red;"
        }
        else if (telCel_input.value.length != 11 || isNaN(telCel_input.value)){
            alert("Telefone celular inválido! Verifique também o DDD.")
        }
        else if (email_input.value.length <= 10){
            alert("E-mail inválido.");
            email_input.style="border: solid 3px red;"
        }
        else if(email_input.value.includes("@") == false){
            alert("E-mail inválido.");
            email_input.style="border: solid 3px red;"
        }
        else {
            alert("Cadastro Realizado com Sucesso!")
            window.location.href = "kaldi-Login.html"
        }
        
    }
</script>
</html>